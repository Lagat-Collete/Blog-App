{% extends 'base.html'%} {% block content %}
<div class="container ">
  <h1 class="text-center"> A Post by: {{post.user.username}}</h1>
  <div class="row">

    <div class="col-md-12">
      <hr>
      <div class="row">
        <div class="col-md-1">
          <img src="{{ url_for('static', filename='photos/' + post.user.profile_pic_path) }}">
        </div>
        <div class="col-md-8">
          {% for message in get_flashed_messages() %}
          <div class="alert alert-success">
            <button type="button" class="close" data-dismiss="alert">&times;</button> {{ message }}
          </div>
          {% endfor %}
          <p>By: <span style="color: rgb(218, 14, 58)">{{post.user.username}}</span> on {{post.posted.strftime('%d-%m-%Y')}}</p>
          <h3>Title : {{post.title}}{{post.comment.count()}} Comments</h3>
          <p>{{post.content}}</p>
          <div>
            <a class="btn btn-success btn-sm ">Comment</a> {% if post.user == current_user %}
            <a class="btn btn-info btn-sm " href="{{url_for('main.update_post',post_id = post.id)}}">Edit Post</a>
            <button class="btn btn-sm btn-danger " type="submit">Delete </button> {% endif %}
          </div>
        </div>
        <div class="col-md-3 ">
          <h4>All Comments</h4>
          {% for comment in post.comments %}
          <p class="mt-10"><span style="font-weight: bold">{{comment.user.username}} : </span> {{comment.comment}}</p>
          {% endfor %}
        </div>
      </div>
      <hr>
    </div>
    <div class="col-md-1"></div>
  </div>
</div>


      <div class="d-flex justify-content-center">
        <p textalign="center">Are you sure?</p>
      </div>
      <div>
        <form action="{{url_for('main.delete_post',post_id = post.id)}}" method="POST">
          <input type="submit">
        </form>
      </div>
   


      <div class="d-flex justify-content-center">
        <p>Leave A comment Here</p>
      </div>
      <div>
        <form class="form" action="{{url_for('main.comment',post_id = post.id)}}" method="POST">
          <div>
            <label></label>
            <textarea class="form-control" placeholder="Type your comment..." rows="2" name="newcomment" required></textarea>
          </div>
          <div>
            <button class="btn btn-sm btn-outline-success">Comment</button>
            <a type="button">Exit</a>
          </div>
        </form>
      </div>

{% endblock %}